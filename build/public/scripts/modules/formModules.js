var e=this&&this.__awaiter||function(e,t,n,o){function c(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function i(e){try{u(o.next(e))}catch(e){r(e)}}function s(e){try{u(o.throw(e))}catch(e){r(e)}}function u(e){e.done?n(e.value):c(e.value).then(i,s)}u((o=o.apply(e,t||[])).next())}))};import{queryControler as t}from"./fetchModule.js";function n(n,c=null){const r=document.querySelector(`form[name=${n}]`);r.addEventListener("submit",(i=>e(this,void 0,void 0,(function*(){i.preventDefault();const e=new FormData(r),s=JSON.stringify(Object.fromEntries(e));console.log("json : ",s);const u=yield t([n],{method:"POST",body:s,headers:{"Content-Type":"application/json"}});null!==c&&c(),o(u,n)}))))}function o(e,t){const n=document.querySelector(`#${t}Feedback`);e.success?(n.style.color="var(--green)",n.textContent="","login"===t?(n.textContent="Bienvenue !",setTimeout((()=>{location.replace("/index")}),500)):"eventCreate"===t&&(n.textContent="Evenement crée avec succés !")):(n.style.color="var(--red)",n.textContent="","login"===t?n.textContent="Connexion échouée, ce compte n'existe pas":"eventCreate"===t&&(n.textContent="Impossible de créer l'évenement !"))}export{n as postTextForm,o as eventFormFeedback};