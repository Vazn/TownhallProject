var e=this&&this.__awaiter||function(e,t,n,o){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,c){function r(e){try{a(o.next(e))}catch(e){c(e)}}function u(e){try{a(o.throw(e))}catch(e){c(e)}}function a(e){e.done?n(e.value):i(e.value).then(r,u)}a((o=o.apply(e,t||[])).next())}))};import{queryControler as t}from"./modules/fetchModule.js";function n(){const n=document.querySelector("form[name=loginForm]"),o=(document.querySelector("main"),document.querySelector("#loginFeedback"));n.addEventListener("submit",(i=>e(this,void 0,void 0,(function*(){i.preventDefault();const e=new FormData(n),c=JSON.stringify(Object.fromEntries(e)),r=yield t("login",{method:"POST",body:c,headers:{"Content-Type":"application/json"}});return r.success?(o.style.color="var(--green)",o.textContent="",o.textContent="Bienvenue !",setTimeout((()=>{location.replace("/index")}),500)):(o.style.color="var(--red)",o.textContent="",o.textContent="Connexion échouée, ce compte n'existe pas"),r}))))}e(void 0,void 0,void 0,(function*(){n()}));